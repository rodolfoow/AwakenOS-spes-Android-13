name: Trigger Manual Build

on:
  workflow_dispatch:

jobs:
  notify:
    runs-on: ubuntu-latest
    
    steps:
    - name: Create Build Instructions
      run: |
        echo "# ðŸš€ Build AwakenOS for Redmi Note 11"
        echo ""
        echo "## ðŸ“‹ Build Configuration"
        echo ""
        echo "### Device Info:"
        echo "- **Device**: Redmi Note 11"
        echo "- **Codename**: spes"
        echo "- **Manufacturer**: Xiaomi"
        echo ""
        echo "### ROM Info:"
        echo "- **ROM Name**: AwakenOS"
        echo "- **Android Version**: 13.0"
        echo "- **Build Type**: userdebug"
        echo ""
        echo "### Sources:"
        echo "1. **Manifest**: https://github.com/Project-Awaken/android_manifest.git"
        echo "   - Branch: 13.0"
        echo ""
        echo "2. **Device Tree**: https://github.com/sayann70/device_xiaomi_spes.git"
        echo "   - Branch: 13.0"
        echo ""
        echo "3. **Vendor Tree**: https://github.com/sayann70/vendor_xiaomi_spes.git"
        echo "   - Branch: 13.0"
        echo ""
        echo "4. **Kernel**: https://github.com/sayann70/android_kernel_xiaomi_spes.git"
        echo "   - Branch: 13.0-triton-void"
        echo ""
        echo "## ðŸ›  Build Parameters:"
        echo "- Clean Build: Yes"
        echo "- Use CCache: Yes"
        echo "- Jobs: 4"
        echo ""
        echo "## ðŸ“± Steps to Build:"
        echo ""
        echo "1. **Go to Crave.io Dashboard**:"
        echo "   ðŸ‘‰ https://foss.crave.io"
        echo ""
        echo "2. **Login with**:"
        echo "   ðŸ“§ Email: rodolfovdon@gmail.com"
        echo ""
        echo "3. **Click 'New Build' or 'Submit Build'**"
        echo ""
        echo "4. **Fill the form**:"
        echo "   - Device: spes"
        echo "   - ROM: awakenos"
        echo "   - Android: 13"
        echo "   - Paste the source URLs above"
        echo ""
        echo "5. **Click 'Start Build'**"
        echo ""
        echo "6. **Monitor progress** in Builds section"
        echo ""
        echo "## â° Build Time:"
        echo "- Estimated: 1-2 hours"
        echo "- You'll receive notification when done"
        
    - name: Save Instructions to File
      run: |
        # Save instructions to README
        cat > BUILD_INSTRUCTIONS.md << 'EOF'
        # Build Instructions
        
        Time: $(date)
        
        ## Quick Links:
        - [Crave.io Dashboard](https://foss.crave.io)
        - [Device Tree](https://github.com/sayann70/device_xiaomi_spes)
        - [Vendor Tree](https://github.com/sayann70/vendor_xiaomi_spes)
        - [Kernel Source](https://github.com/sayann70/android_kernel_xiaomi_spes)
        - [AwakenOS Manifest](https://github.com/Project-Awaken/android_manifest)
        
        ## Build Command (for reference):
        ```
        repo init -u https://github.com/Project-Awaken/android_manifest.git -b 13.0
        repo sync -c -j4
        source build/envsetup.sh
        lunch awaken_spes-userdebug
        mka bacon -j4
        ```
        EOF
        
    - name: Upload Instructions
      uses: actions/upload-artifact@v3
      with:
        name: build-instructions
        path: BUILD_INSTRUCTIONS.md
